{
	"info": {
		"_postman_id": "2ad55e92-a236-45e2-85b9-4a6e8cb6cc13",
		"name": "Main API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Token Resetting",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "132755e6-6669-4b36-8057-51ef641c99df",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"X-CSRFToken-Header\", decodeURIComponent(pm.cookies.get(\"csrftoken\")))",
							"pm.test(\"Status Code is 400\", function () {",
							"    pm.response.to.have.status(400);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"{{USER_NAME}}\",\n\t\"email\": \"{{USER_EMAIL}}\",\n\t\"password\": \"{{USER_PASSWORD}}\"\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/rest-auth/login/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"rest-auth",
						"login",
						""
					]
				},
				"description": "Loga na API"
			},
			"response": []
		},
		{
			"name": "rest-auth/logout/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3dfb1a7b-c471-4b15-9be4-42d83526e307",
						"exec": [
							"pm.environment.unset(\"X-CSRFToken-Header\");",
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"{{USER_NAME}}\",\n\t\"email\": \"{{USER_EMAIL}}\",\n\t\"password\": \"{{USER_PASSWORD}}\"\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/rest-auth/logout/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"rest-auth",
						"logout",
						""
					]
				},
				"description": "Loga na API"
			},
			"response": []
		},
		{
			"name": "rest-auth/registration/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "89faa876-8010-4712-b1ba-6dae6cc33da2",
						"exec": [
							"pm.environment.set(\"X-CSRFToken-Header\", decodeURIComponent(pm.cookies.get(\"csrftoken\")))",
							"pm.test(\"Status Code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"{{USER_NAME}}\",\n\t\"email\": \"{{USER_EMAIL}}\",\n\t\"password1\": \"{{USER_PASSWORD}}\",\n\t\"password2\": \"{{USER_PASSWORD}}\"\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/rest-auth/registration/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"rest-auth",
						"registration",
						""
					]
				},
				"description": "Loga na API"
			},
			"response": []
		},
		{
			"name": "rest-auth/user/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7de982f6-704e-4043-9639-0d584933a672",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"USER_ID\", pm.response.json().pk)",
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/rest-auth/user/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"rest-auth",
						"user",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "sorteios/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bb9ffaa2-f560-4f21-add1-60d1228a5113",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "sorteios/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8d58f411-76dc-4c80-8cbd-c8df6e80752b",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"ID_SORTEIO\", pm.response.json().id)",
							"pm.test(\"Status Code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"nome\": \"{{NOME_SORTEIO}}\",\n\t\"minimo\": {{MINIMO_SORTEIO}},\n\t\"maximo\": {{MAXIMO_SORTEIO}},\n\t\"quantidadeValores\": {{QUANTIDADE_SORTEIO}}\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "sorteios/:id/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3910a079-4e31-4590-a239-6fdff56ede49",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "sorteios/:id/",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "88d71a03-a4b4-481e-b44c-3a856c9ce0fa",
						"type": "text/javascript",
						"exec": [
							"let qntd = pm.variables.get('QUANTIDADE_SORTEIO');",
							"pm.environment.set('QUANTIDADE_SORTEIO',  qntd - 1);"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "25180f49-db01-4034-bc43-f23092084e86",
						"type": "text/javascript",
						"exec": [
							"pm.environment.unset('QUANTIDADE_SORTEIO');",
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"nome\": \"{{NOME_SORTEIO}}\",\n\t\"minimo\": {{MINIMO_SORTEIO}},\n\t\"maximo\": {{MAXIMO_SORTEIO}},\n\t\"quantidadeValores\": {{QUANTIDADE_SORTEIO}}\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "sorteios/:id/resultado/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8d9dea4c-8469-4d88-b4d9-c54e87ea003e",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/resultado/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						"resultado",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "sorteios/:id/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8a6ff4b6-6192-4b70-b0d9-1cd9edd26870",
						"type": "text/javascript",
						"exec": [
							"pm.environment.unset('ID_SORTEIO');",
							"pm.test(\"Status Code is 204\", function () {",
							"    pm.response.to.have.status(204);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-CSRFToken",
						"value": "{{X-CSRFToken-Header}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "5108a9e2-c2fc-4b5c-b323-e83fc2ff8d74",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9ac5797a-c46b-40c2-ac3c-c87a077873c9",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "24e6f254-9bd6-4eb2-9b7e-869e8981dc85",
			"key": "X-CSRFToken-Header",
			"value": "",
			"type": "string"
		},
		{
			"id": "acd3ef81-eaf7-483b-8d3e-622925b40b52",
			"key": "BASE_URL",
			"value": "http://68.183.172.30",
			"type": "string"
		},
		{
			"id": "7d90a049-3f8f-4bec-a0ca-f5b1fddbb2a4",
			"key": "PORT",
			"value": "8000",
			"type": "string"
		},
		{
			"id": "b70a71ed-66ba-4033-a9f3-b63f30d1adb1",
			"key": "API_TARGET",
			"value": "api/v1",
			"type": "string"
		},
		{
			"id": "e5508dbc-9536-4d33-9a11-733b6785cfaf",
			"key": "NOME_SORTEIO",
			"value": "Mega Sena da Virada",
			"type": "string"
		},
		{
			"id": "a98884b6-c5ba-44f4-82fc-9a3a5d731696",
			"key": "QUANTIDADE_SORTEIO",
			"value": "6",
			"type": "string"
		},
		{
			"id": "dd5149ae-8726-464a-adbb-ed3f0d57855c",
			"key": "MINIMO_SORTEIO",
			"value": "1",
			"type": "string"
		},
		{
			"id": "a00a045b-af9e-41e7-a068-5b77281cbd0c",
			"key": "MAXIMO_SORTEIO",
			"value": "60",
			"type": "string"
		},
		{
			"id": "a161b1bb-9c68-4d39-a535-b85fd1cebbe9",
			"key": "USER_ID",
			"value": "",
			"type": "string"
		},
		{
			"id": "c90441ed-73d5-4f29-9ee9-fd016b0085ec",
			"key": "ID_SORTEIO",
			"value": "",
			"type": "string"
		},
		{
			"id": "9a17916b-caf5-4f9f-945a-f7ea5d5fb254",
			"key": "USER_NAME",
			"value": "teste",
			"type": "string"
		},
		{
			"id": "1de96bd4-2325-4d29-9e2b-0cedbcd20cdc",
			"key": "USER_EMAIL",
			"value": "teste@teste.com",
			"type": "string"
		},
		{
			"id": "132e8e42-6028-4f2c-843f-f835eeb7987b",
			"key": "USER_PASSWORD",
			"value": "V123456@%ac",
			"type": "string"
		}
	]
}