{
	"info": {
		"_postman_id": "f4a4aa6d-6066-4c31-a6bc-2b6337adb405",
		"name": "Sorteios API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "/sorteios/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "67530e05-7336-46fd-bf0b-5b618ceaae64",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.environment.set(\"QUANTIDADE_INICIAL\", pm.response.json().length);"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "/sorteios/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d7bde41b-0b42-4185-b3e7-4b35049ff87f",
						"type": "text/javascript",
						"exec": [
							"pm.environment.set(\"ID_SORTEIO\", pm.response.json().id);",
							"pm.test(\"Status Code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"nome\": \"{{NOME_SORTEIO}}\",\n\t\"minimo\": {{MINIMO_SORTEIO}},\n\t\"maximo\": {{MAXIMO_SORTEIO}},\n\t\"quantidadeValores\": {{QUANTIDADE_SORTEIO}},\n\t\"owner\": {{OWNER_SORTEIO}}\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "/sorteios/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "574df976-1ee6-42d5-81e1-c816f334079a",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"List has grown\", function () {",
							"    pm.expect(pm.environment.get(\"QUANTIDADE_INICIAL\")).to.be.lessThan(pm.response.json().length);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						""
					]
				},
				"description": "Retorna a lista de sorteios cadastrados na API"
			},
			"response": []
		},
		{
			"name": "/user/:id/sorteios/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1afaf6b1-88ff-4085-a36c-02c4ee50748b",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/user/{{OWNER_SORTEIO}}/sorteios/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"user",
						"{{OWNER_SORTEIO}}",
						"sorteios",
						""
					]
				},
				"description": "Retorna um sorteio especificado pelo id de um usuário especificado pelo id"
			},
			"response": []
		},
		{
			"name": "/user/:id/sorteios/:id/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d7606343-b20c-4f11-9666-523217f48deb",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/user/{{OWNER_SORTEIO}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"user",
						"{{OWNER_SORTEIO}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Retorna um sorteio especificado pelo id de um usuário especificado pelo id"
			},
			"response": []
		},
		{
			"name": "/user/:id/sorteios/:id/",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c9f0b1f6-f576-4a05-9059-160271bb9968",
						"type": "text/javascript",
						"exec": [
							"let qntd = pm.variables.get('QUANTIDADE_SORTEIO');",
							"pm.environment.set('QUANTIDADE_SORTEIO',  qntd - 1);"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "93ea6687-78cf-42d5-99c9-330f43f1d8b6",
						"type": "text/javascript",
						"exec": [
							"pm.environment.unset('QUANTIDADE_SORTEIO');",
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"nome\": \"{{NOME_SORTEIO}}\",\n\t\"minimo\": {{MINIMO_SORTEIO}},\n\t\"maximo\": {{MAXIMO_SORTEIO}},\n\t\"quantidadeValores\": {{QUANTIDADE_SORTEIO}},\n\t\"owner\": {{OWNER_SORTEIO}}\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/user/{{OWNER_SORTEIO}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"user",
						"{{OWNER_SORTEIO}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Edita um sorteio especificado pelo id de um usuário especificado pelo id"
			},
			"response": []
		},
		{
			"name": "/sorteios/:id/resultado/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "564c1afa-2e1c-4a57-9ed8-e396e21caaaa",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 404\", function () {",
							"    pm.response.to.have.status(404);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/resultado/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						"resultado",
						""
					]
				},
				"description": "Retorna o resultado de um sorteio especificado pelo id"
			},
			"response": []
		},
		{
			"name": "/sorteios/:id/resultado/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b233e693-0474-4227-a3a5-f22151b5ec99",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/resultado/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						"resultado",
						""
					]
				},
				"description": "Realiza o sorteio de um determinado id e retorna o seu resultado."
			},
			"response": []
		},
		{
			"name": "/sorteios/:id/resultado/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9a9b8d8f-0bd5-4f74-b9b6-51bd8785747c",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status Code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/sorteios/{{ID_SORTEIO}}/resultado/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						"resultado",
						""
					]
				},
				"description": "Retorna o resultado de um sorteio especificado pelo id"
			},
			"response": []
		},
		{
			"name": "/user/:id/sorteios/:id/",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ce4070d8-8856-47a4-ab8d-53fe8e9299f6",
						"type": "text/javascript",
						"exec": [
							"let qntd = pm.variables.get('QUANTIDADE_SORTEIO');",
							"pm.environment.set('QUANTIDADE_SORTEIO',  qntd - 1);"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "4752105a-a123-4918-b9b7-342274f326f1",
						"type": "text/javascript",
						"exec": [
							"pm.environment.unset('QUANTIDADE_SORTEIO');",
							"pm.test(\"Status Code is 400\", function () {",
							"    pm.response.to.have.status(400);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"nome\": \"{{NOME_SORTEIO}}\",\n\t\"minimo\": {{MINIMO_SORTEIO}},\n\t\"maximo\": {{MAXIMO_SORTEIO}},\n\t\"quantidadeValores\": {{QUANTIDADE_SORTEIO}},\n\t\"owner\": {{OWNER_SORTEIO}}\n}"
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/user/{{OWNER_SORTEIO}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"user",
						"{{OWNER_SORTEIO}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Edita um sorteio especificado pelo id de um usuário especificado pelo id"
			},
			"response": []
		},
		{
			"name": "/sorteios/:id",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "02371070-2a8c-4480-822b-bceb1913e104",
						"type": "text/javascript",
						"exec": [
							"pm.environment.unset('ID_SORTEIO');",
							"pm.test(\"Status Code is 204\", function () {",
							"    pm.response.to.have.status(204);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{BASE_URL}}:{{PORT}}/{{API_TARGET}}/user/{{OWNER_SORTEIO}}/sorteios/{{ID_SORTEIO}}/",
					"host": [
						"{{BASE_URL}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{API_TARGET}}",
						"user",
						"{{OWNER_SORTEIO}}",
						"sorteios",
						"{{ID_SORTEIO}}",
						""
					]
				},
				"description": "Deleta um sorteio especificado pelo id"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "5108a9e2-c2fc-4b5c-b323-e83fc2ff8d74",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9ac5797a-c46b-40c2-ac3c-c87a077873c9",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "d4d410c5-3799-408b-88f0-20702b0312cc",
			"key": "PORT",
			"value": "7000",
			"type": "string"
		},
		{
			"id": "3b69b95e-3f0a-4b54-9dee-14c0500af932",
			"key": "BASE_URL",
			"value": "http://68.183.172.30",
			"type": "string"
		},
		{
			"id": "9a2cdb9b-541c-4179-b74b-46f93dfb7e77",
			"key": "API_TARGET",
			"value": "api/v1",
			"type": "string"
		},
		{
			"id": "f1f0df4e-d46c-4420-a5cf-cfdc026faf93",
			"key": "NOME_SORTEIO",
			"value": "Mega Sena",
			"type": "string"
		},
		{
			"id": "12c3916a-dc67-4f87-a341-5d1c9261c513",
			"key": "QUANTIDADE_SORTEIO",
			"value": "6",
			"type": "string"
		},
		{
			"id": "6fd664f7-caef-435f-8338-e36c6a3923b6",
			"key": "MINIMO_SORTEIO",
			"value": "1",
			"type": "string"
		},
		{
			"id": "d1919e02-a10c-4a41-a637-218e42df3763",
			"key": "MAXIMO_SORTEIO",
			"value": "60",
			"type": "string"
		},
		{
			"id": "ddbc7a63-6f07-4073-a706-08fdc8fb2a1d",
			"key": "OWNER_SORTEIO",
			"value": "1",
			"type": "string"
		},
		{
			"id": "8d749814-8b86-418a-be0c-1d40d8bdb763",
			"key": "ID_SORTEIO",
			"value": "",
			"type": "string"
		}
	]
}