{% load staticfiles %}

<!DOCTYPE html>
<html>
	<head>
	    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
	    <meta charset="utf-8">

	    <title>Contacts</title>
	    
		<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}" />

		<script type="text/javascript" src="{% static 'js/jquery-1.12.2.min.js' %}"></script>	
	    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>	
	    <script type="text/javascript" src="{% static 'js/secretary.js' %}"></script>	
	    <script type="text/javascript">
			var SERVER_URL = "http://{{server_url}}";
	    </script>
	</head>
	<body>
		<div class="container">
		    <div class="page-header">
		        <h1>Contacts</h1>
			</div>
			<div class="row">
		        <div class="col-md-8">
		          	<table class="table table-striped">
		            	<thead>
		              		<tr>
		                		<th>#</th>
		                		<th>Name</th>
				                <th>Postcode</th>
				                <th>Number</th>
				                <th>Address</th>
				            </tr>
	            			<tr>
			              		<input type="hidden" id="id" name="id" value=""/>
			              		<td colspan="2"><input type="text" id="name" name="name" value="" size="40"/></td>
			                	<td><input type="number" id="postcode" name="postcode" value="" size="8"/></td>
			                	<td><input type="number" id="number" name="number" value="" size="9"/></td>
			                	<td><input type="text" id="address" name="address" value="" size="40" readonly="readonly"/><button id="method-button" type="button" class="btn btn-xs btn-success" onclick="make_request()" value="POST" style="float:right;" >Save</button>
			                	<button id="method-button" type="button" class="btn btn-xs btn-info" onclick="clear_form()" style="float:right;margin-right: 5px;" >Clear</button></td>
			              	</tr>
				        </thead>
				        <tbody class="list">
			            	{% for contact in contacts %}
				              	<tr data-id="{{contact.id}}">
				              		<td class="id">{{contact.id}}</td>
				              		<td class="name">{{contact.name}}</td>
				                	<td class="postcode">{{contact.postcode}}</td>
				                	<td class="number">{{contact.number}}</td>
				                	<td ><span class="address">{{contact.address}}</span>
				                		<button type="button" class="btn btn-xs btn-danger" style="float:right;" onclick="delete_contact(this)">Delete</button>
				                		<button type="button" class="btn btn-xs btn-primary" style="float:right;margin-right: 5px;" onclick="edit_contact(this)">Edit</button>
				                	</td>
				              	</tr>
	              			{% endfor %}
		            	</tbody>
		          	</table>
		        </div>
	    	</div>
	    </div>
	</body>
</html>